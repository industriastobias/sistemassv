<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PROFORMA EJECUTIVA | Industrias Tobias S.A.</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --bg-dark: #0a0e1a;
            --bg-card: #111827;
            --bg-elevated: #1f2937;
            --primary: #3b82f6;
            --primary-glow: rgba(59, 130, 246, 0.3);
            --accent: #f59e0b;
            --accent-glow: rgba(245, 158, 11, 0.3);
            --success: #10b981;
            --danger: #ef4444;
            --text-primary: #f9fafb;
            --text-secondary: #9ca3af;
            --border: #374151;
            --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(59, 130, 246, 0.05) 0%, transparent 50%);
        }
        
        .executive-doc {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--bg-card);
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 50px 100px -20px rgba(0, 0, 0, 0.7);
            border: 1px solid var(--border);
        }
        
        /* Header Ejecutivo */
        .exec-header {
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
            padding: 50px;
            position: relative;
            overflow: hidden;
        }
        
        .exec-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(45deg, transparent 48%, rgba(59, 130, 246, 0.03) 50%, transparent 52%),
                linear-gradient(-45deg, transparent 48%, rgba(245, 158, 11, 0.03) 50%, transparent 52%);
            background-size: 60px 60px;
        }
        
        .header-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
            position: relative;
            z-index: 1;
        }
        
        .brand-section h1 {
            font-size: 3em;
            font-weight: 800;
            background: linear-gradient(135deg, #fff 0%, #94a3b8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            letter-spacing: -1px;
        }
        
        .brand-tagline {
            color: var(--text-secondary);
            font-size: 1.1em;
            font-weight: 300;
            letter-spacing: 3px;
            text-transform: uppercase;
        }
        
        .doc-meta {
            text-align: right;
        }
        
        .badge-proforma {
            display: inline-block;
            background: var(--gradient-1);
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 0.9em;
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
            animation: pulse-glow 3s infinite;
        }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3); }
            50% { box-shadow: 0 10px 40px rgba(102, 126, 234, 0.5); }
        }
        
        .invoice-number {
            font-family: 'JetBrains Mono', monospace;
            font-size: 2em;
            font-weight: 600;
            color: var(--accent);
            text-shadow: 0 0 20px var(--accent-glow);
        }
        
        .date-display {
            color: var(--text-secondary);
            margin-top: 10px;
            font-size: 0.95em;
        }
        
        /* Navegaci√≥n de Secciones */
        .section-nav {
            display: flex;
            gap: 5px;
            padding: 0 50px;
            background: var(--bg-elevated);
            border-bottom: 1px solid var(--border);
        }
        
        .nav-tab {
            padding: 20px 30px;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            font-weight: 600;
            cursor: pointer;
            position: relative;
            transition: all 0.3s;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .nav-tab:hover {
            color: var(--text-primary);
        }
        
        .nav-tab.active {
            color: var(--primary);
        }
        
        .nav-tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary);
            box-shadow: 0 0 10px var(--primary-glow);
        }
        
        /* Contenido */
        .doc-body {
            padding: 40px 50px;
        }
        
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .content-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Cards de Informaci√≥n */
        .info-card {
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            transition: all 0.3s;
        }
        
        .info-card:hover {
            border-color: var(--primary);
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.1);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }
        
        .card-icon {
            width: 50px;
            height: 50px;
            background: var(--gradient-1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.2);
        }
        
        .card-title {
            font-size: 1.3em;
            font-weight: 700;
        }
        
        .card-subtitle {
            color: var(--text-secondary);
            font-size: 0.9em;
            margin-top: 3px;
        }
        
        /* Grid de Inputs */
        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .input-label {
            font-size: 0.8em;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-secondary);
            font-weight: 600;
        }
        
        .exec-input {
            background: var(--bg-dark);
            border: 2px solid var(--border);
            padding: 14px 18px;
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 1em;
            transition: all 0.3s;
            font-family: inherit;
        }
        
        .exec-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px var(--primary-glow);
        }
        
        .exec-input::placeholder {
            color: #4b5563;
        }
        
        /* Trade Route Visual */
        .route-visual {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            padding: 40px;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(245, 158, 11, 0.1) 100%);
            border-radius: 16px;
            margin-bottom: 30px;
            border: 1px solid var(--border);
        }
        
        .route-node {
            text-align: center;
            flex: 1;
            max-width: 250px;
        }
        
        .route-flag {
            font-size: 3em;
            margin-bottom: 15px;
            display: block;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.3));
        }
        
        .route-country {
            font-size: 1.3em;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .route-port {
            color: var(--text-secondary);
            font-size: 0.9em;
            font-family: 'JetBrains Mono', monospace;
        }
        
        .route-arrow {
            font-size: 2em;
            color: var(--accent);
            animation: float 2s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(10px); }
        }
        
        /* Selector de Categor√≠a Premium */
        .category-container {
            margin-bottom: 30px;
        }
        
        .category-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }
        
        .category-card {
            background: var(--bg-elevated);
            border: 2px solid var(--border);
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-1);
            opacity: 0;
            transition: opacity 0.4s;
        }
        
        .category-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 20px 40px rgba(59, 130, 246, 0.2);
        }
        
        .category-card.active {
            border-color: var(--primary);
            transform: scale(1.02);
        }
        
        .category-card.active::before {
            opacity: 1;
        }
        
        .category-card.active > * {
            position: relative;
            z-index: 1;
            color: white;
        }
        
        .cat-icon-large {
            font-size: 2.5em;
            margin-bottom: 15px;
            display: block;
            transition: transform 0.3s;
        }
        
        .category-card:hover .cat-icon-large {
            transform: scale(1.2);
        }
        
        .cat-name-large {
            font-weight: 700;
            font-size: 1em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .selected-cat-display {
            display: none;
            background: var(--gradient-1);
            padding: 25px;
            border-radius: 16px;
            text-align: center;
            margin-top: 20px;
            animation: slideUp 0.4s ease;
        }
        
        .selected-cat-display.show {
            display: block;
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Tabla Ejecutiva */
        .table-container {
            background: var(--bg-elevated);
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid var(--border);
        }
        
        .table-toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
            background: rgba(255,255,255,0.02);
            border-bottom: 1px solid var(--border);
        }
        
        .toolbar-title {
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .toolbar-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn-exec {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
        }
        
        .btn-add-line {
            background: var(--success);
            color: white;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }
        
        .btn-add-line:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
        }
        
        .btn-clear {
            background: transparent;
            color: var(--danger);
            border: 1px solid var(--danger);
        }
        
        .btn-clear:hover {
            background: rgba(239, 68, 68, 0.1);
        }
        
        .btn-print {
            background: var(--accent);
            color: var(--bg-dark);
            font-weight: 700;
        }
        
        .btn-print:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.3);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95em;
        }
        
        thead {
            background: var(--bg-dark);
        }
        
        th {
            padding: 18px;
            text-align: left;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.75em;
            letter-spacing: 1px;
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border);
        }
        
        td {
            padding: 16px 18px;
            border-bottom: 1px solid var(--border);
        }
        
        tbody tr {
            transition: all 0.3s;
        }
        
        tbody tr:hover {
            background: rgba(59, 130, 246, 0.05);
        }
        
        .cell-input {
            background: var(--bg-dark);
            border: 1px solid var(--border);
            padding: 10px;
            border-radius: 6px;
            color: var(--text-primary);
            width: 100%;
            font-family: inherit;
            transition: all 0.3s;
        }
        
        .cell-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px var(--primary-glow);
        }
        
        .cell-input.number {
            text-align: right;
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
        }
        
        .cell-total {
            font-family: 'JetBrains Mono', monospace;
            font-weight: 700;
            color: var(--success);
            font-size: 1.1em;
        }
        
        .delete-btn {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s;
        }
        
        .delete-btn:hover {
            background: var(--danger);
            color: white;
            transform: scale(1.1);
        }
        
        /* Panel de Configuraci√≥n de Lotes y Comisiones */
        .config-panel {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .config-card {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(245, 158, 11, 0.1) 100%);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
        }
        
        .config-label {
            font-size: 0.8em;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }
        
        .config-value {
            font-size: 1.8em;
            font-weight: 700;
            color: var(--accent);
            font-family: 'JetBrains Mono', monospace;
        }
        
        .config-input {
            background: var(--bg-dark);
            border: 2px solid var(--border);
            padding: 12px;
            border-radius: 8px;
            color: var(--text-primary);
            width: 100%;
            text-align: center;
            font-size: 1.2em;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
            margin-top: 10px;
        }
        
        .config-input:focus {
            outline: none;
            border-color: var(--accent);
        }
        
        /* Resumen Financiero */
        .financial-summary {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }
        
        .summary-card {
            background: var(--bg-elevated);
            border-radius: 16px;
            padding: 30px;
            border: 1px solid var(--border);
        }
        
        .summary-title {
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--text-secondary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .summary-amount {
            font-size: 2.5em;
            font-weight: 800;
            font-family: 'JetBrains Mono', monospace;
            margin-bottom: 10px;
        }
        
        .amount-primary { color: var(--primary); text-shadow: 0 0 20px var(--primary-glow); }
        .amount-success { color: var(--success); text-shadow: 0 0 20px rgba(16, 185, 129, 0.3); }
        .amount-accent { color: var(--accent); text-shadow: 0 0 20px var(--accent-glow); }
        
        .summary-detail {
            color: var(--text-secondary);
            font-size: 0.9em;
            line-height: 1.8;
        }
        
        /* Totales Finales */
        .grand-totals {
            background: linear-gradient(135deg, var(--primary) 0%, #1e40af 100%);
            border-radius: 20px;
            padding: 40px;
            margin-top: 30px;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            position: relative;
            overflow: hidden;
        }
        
        .grand-totals::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 30px 30px;
            opacity: 0.3;
        }
        
        .total-item {
            text-align: center;
            position: relative;
            z-index: 1;
        }
        
        .total-label {
            font-size: 0.8em;
            text-transform: uppercase;
            letter-spacing: 2px;
            opacity: 0.8;
            margin-bottom: 10px;
        }
        
        .total-value {
            font-size: 2em;
            font-weight: 800;
            font-family: 'JetBrains Mono', monospace;
        }
        
        .total-grand {
            grid-column: span 4;
            border-top: 1px solid rgba(255,255,255,0.2);
            padding-top: 30px;
            margin-top: 10px;
        }
        
        .total-grand .total-value {
            font-size: 3.5em;
            text-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        /* T√©rminos Legales */
        .legal-terms {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(245, 158, 11, 0.05) 100%);
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: 16px;
            padding: 30px;
            margin-top: 30px;
        }
        
        .legal-title {
            color: var(--accent);
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1em;
        }
        
        .legal-text {
            color: var(--text-secondary);
            line-height: 2;
            font-size: 0.95em;
        }
        
        /* Footer Ejecutivo */
        .exec-footer {
            background: var(--bg-elevated);
            padding: 40px 50px;
            border-top: 1px solid var(--border);
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
        }
        
        .footer-col h4 {
            color: var(--text-secondary);
            font-size: 0.75em;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 15px;
        }
        
        .footer-col p {
            color: var(--text-primary);
            font-size: 0.9em;
            line-height: 1.8;
        }
        
        .footer-col strong {
            color: var(--accent);
        }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .category-grid { grid-template-columns: repeat(2, 1fr); }
            .config-panel { grid-template-columns: 1fr; }
            .financial-summary { grid-template-columns: 1fr; }
            .grand-totals { grid-template-columns: repeat(2, 1fr); }
            .total-grand { grid-column: span 2; }
            .exec-footer { grid-template-columns: repeat(2, 1fr); }
        }
        
        @media (max-width: 768px) {
            .header-grid { grid-template-columns: 1fr; text-align: center; }
            .doc-meta { text-align: center; }
            .route-visual { flex-direction: column; }
            .route-arrow { transform: rotate(90deg); }
            .grand-totals { grid-template-columns: 1fr; }
            .total-grand { grid-column: span 1; }
            .section-nav { overflow-x: auto; }
        }
        
        /* Print Styles */
        @media print {
            body { background: white; color: black; }
            .executive-doc { box-shadow: none; border: none; }
            .no-print { display: none !important; }
            .category-grid { display: none !important; }
            .selected-cat-display { display: block !important; background: #333 !important; color: white !important; }
            .exec-header { background: #1e1b4b !important; color: white !important; }
            .grand-totals { background: #2563eb !important; color: white !important; }
            .table-container { border: 1px solid #ddd; }
            .cell-input { border: none; background: transparent; color: black; }
            th { background: #f3f4f6 !important; color: #374151 !important; }
        }
        
        /* Animaciones */
        .fade-in { animation: fadeIn 0.5s ease; }
        .slide-up { animation: slideUp 0.5s ease; }
        
        /* Badges de estado */
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75em;
            font-weight: 700;
            text-transform: uppercase;
        }
        
        .status-pending { background: rgba(245, 158, 11, 0.2); color: var(--accent); }
        .status-approved { background: rgba(16, 185, 129, 0.2); color: var(--success); }
    </style>
</head>
<body>
    <div class="executive-doc">
        <!-- Header -->
        <div class="exec-header">
            <div class="header-grid">
                <div class="brand-section">
                    <h1>INDUSTRIAS TOBIAS</h1>
                    <div class="brand-tagline">A Family Company ‚Ä¢ Belleza & Moda</div>
                </div>
                <div class="doc-meta">
                    <div class="badge-proforma">Proforma Invoice</div>
                    <div class="invoice-number" id="invoiceNum">PI-2024-001</div>
                    <div class="date-display" id="currentDate">12 de Febrero, 2024</div>
                    <div style="margin-top: 15px;">
                        <span class="status-badge status-pending" id="statusBadge">Pendiente</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Navegaci√≥n -->
        <div class="section-nav no-print">
            <button class="nav-tab active" onclick="showSection('general')">General</button>
            <button class="nav-tab" onclick="showSection('productos')">Productos & Lotes</button>
            <button class="nav-tab" onclick="showSection('financiero')">Resumen Financiero</button>
        </div>
        
        <div class="doc-body">
            <!-- Secci√≥n General -->
            <div id="general" class="content-section active">
                <!-- Ruta Comercial -->
                <div class="route-visual">
                    <div class="route-node">
                        <span class="route-flag">üá∫üá∏</span>
                        <div class="route-country">ESTADOS UNIDOS</div>
                        <div class="route-port">Port of Miami, FL</div>
                    </div>
                    <div class="route-arrow">‚ûú</div>
                    <div class="route-node">
                        <span class="route-flag">üá∏üáª</span>
                        <div class="route-country">EL SALVADOR</div>
                        <div class="route-port">Port of Acajutla</div>
                    </div>
                </div>
                
                <!-- Datos del Importador -->
                <div class="info-card">
                    <div class="card-header">
                        <div class="card-icon">üë§</div>
                        <div>
                            <div class="card-title">Datos del Importador</div>
                            <div class="card-subtitle">Consignee Information</div>
                        </div>
                    </div>
                    <div class="input-grid">
                        <div class="input-group">
                            <label class="input-label">Raz√≥n Social / Company Name</label>
                            <input type="text" class="exec-input" placeholder="Distribuidora Ejecutiva S.A. de C.V.">
                        </div>
                        <div class="input-group">
                            <label class="input-label">Tax ID / NIT / RUC</label>
                            <input type="text" class="exec-input" placeholder="0614-010190-001-0">
                        </div>
                        <div class="input-group">
                            <label class="input-label">Contacto / Buyer</label>
                            <input type="text" class="exec-input" placeholder="Lic. Roberto Gonz√°lez">
                        </div>
                        <div class="input-group">
                            <label class="input-label">Email Corporativo</label>
                            <input type="email" class="exec-input" placeholder="compras@empresa.com">
                        </div>
                        <div class="input-group">
                            <label class="input-label">Tel√©fono / WhatsApp</label>
                            <input type="tel" class="exec-input" placeholder="+503 7777-8888">
                        </div>
                        <div class="input-group">
                            <label class="input-label">Direcci√≥n de Entrega</label>
                            <input type="text" class="exec-input" placeholder="Av. Las Magnolias #123, San Salvador">
                        </div>
                    </div>
                </div>
                
                <!-- T√©rminos de Negocio -->
                <div class="info-card">
                    <div class="card-header">
                        <div class="card-icon" style="background: var(--gradient-2);">üìã</div>
                        <div>
                            <div class="card-title">T√©rminos de Negocio</div>
                            <div class="card-subtitle">Trade Terms & Conditions</div>
                        </div>
                    </div>
                    <div class="input-grid">
                        <div class="input-group">
                            <label class="input-label">Incoterm</label>
                            <input type="text" class="exec-input" value="FOB (Free On Board)" readonly style="background: rgba(59, 130, 246, 0.1); border-color: var(--primary);">
                        </div>
                        <div class="input-group">
                            <label class="input-label">Moneda / Currency</label>
                            <input type="text" class="exec-input" value="USD - US Dollar" readonly>
                        </div>
                        <div class="input-group">
                            <label class="input-label">Condiciones de Pago</label>
                            <input type="text" class="exec-input" value="T/T Wire Transfer (30% Advance)" readonly>
                        </div>
                        <div class="input-group">
                            <label class="input-label">Tiempo de Entrega</label>
                            <input type="text" class="exec-input" placeholder="30-45 d√≠as h√°biles">
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Secci√≥n Productos -->
            <div id="productos" class="content-section">
                <!-- Selector de Categor√≠a -->
                <div class="category-container no-print">
                    <div class="card-header" style="margin-bottom: 20px;">
                        <div class="card-icon" style="background: var(--gradient-3);">üè∑Ô∏è</div>
                        <div>
                            <div class="card-title">Seleccionar Categor√≠a</div>
                            <div class="card-subtitle">Seleccione una l√≠nea de negocio</div>
                        </div>
                    </div>
                    <div class="category-grid">
                        <div class="category-card" onclick="selectCategory(this, 'Textil')">
                            <span class="cat-icon-large">üßµ</span>
                            <div class="cat-name-large">Textil</div>
                        </div>
                        <div class="category-card" onclick="selectCategory(this, 'Calzado')">
                            <span class="cat-icon-large">üëû</span>
                            <div class="cat-name-large">Calzado</div>
                        </div>
                        <div class="category-card" onclick="selectCategory(this, 'Accesorios')">
                            <span class="cat-icon-large">üëú</span>
                            <div class="cat-name-large">Accesorios</div>
                        </div>
                        <div class="category-card" onclick="selectCategory(this, 'Maquillaje')">
                            <span class="cat-icon-large">üíÑ</span>
                            <div class="cat-name-large">Maquillaje</div>
                        </div>
                        <div class="category-card" onclick="selectCategory(this, 'Hogar')">
                            <span class="cat-icon-large">üè†</span>
                            <div class="cat-name-large">Hogar</div>
                        </div>
                        <div class="category-card" onclick="selectCategory(this, 'Industrial')">
                            <span class="cat-icon-large">‚öôÔ∏è</span>
                            <div class="cat-name-large">Industrial</div>
                        </div>
                        <div class="category-card" onclick="selectCategory(this, 'Materia Prima')">
                            <span class="cat-icon-large">üß∂</span>
                            <div class="cat-name-large">Materia Prima</div>
                        </div>
                        <div class="category-card" onclick="selectCategory(this, 'Otros')">
                            <span class="cat-icon-large">üì¶</span>
                            <div class="cat-name-large">Otros</div>
                        </div>
                    </div>
                </div>
                
                <div id="selectedCategoryDisplay" class="selected-cat-display">
                    <div style="font-size: 0.9em; opacity: 0.9; margin-bottom: 5px;">CATEGOR√çA SELECCIONADA</div>
                    <div style="font-size: 1.8em; font-weight: 800;" id="selectedCatName">No seleccionada</div>
                </div>
                
                <!-- Configuraci√≥n de Comisiones y Lotes -->
                <div class="config-panel">
                    <div class="config-card">
                        <div class="config-label">Comisi√≥n por Venta</div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <input type="number" class="config-input" id="commissionRate" value="10" min="0" max="100" onchange="updateCalculations()">
                            <span style="font-size: 1.5em; color: var(--text-secondary);">%</span>
                        </div>
                        <div style="margin-top: 10px; font-size: 0.85em; color: var(--text-secondary);">Sobre el total FOB</div>
                    </div>
                    <div class="config-card">
                        <div class="config-label">Descuento por Lote</div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <input type="number" class="config-input" id="lotDiscount" value="5" min="0" max="100" onchange="updateCalculations()">
                            <span style="font-size: 1.5em; color: var(--text-secondary);">%</span>
                        </div>
                        <div style="margin-top: 10px; font-size: 0.85em; color: var(--text-secondary);">Aplica > $10,000</div>
                    </div>
                    <div class="config-card">
                        <div class="config-label">Cantidad M√≠nima Lote</div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <input type="number" class="config-input" id="minLotQty" value="100" min="1" onchange="updateCalculations()">
                            <span style="font-size: 0.9em; color: var(--text-secondary);">unids</span>
                        </div>
                        <div style="margin-top: 10px; font-size: 0.85em; color: var(--text-secondary);">Para precio preferencial</div>
                    </div>
                </div>
                
                <!-- Tabla de Productos -->
                <div class="table-container">
                    <div class="table-toolbar">
                        <div class="toolbar-title">
                            <span style="font-size: 1.2em;">üì¶</span>
                            Detalle de Productos
                        </div>
                        <div class="toolbar-actions no-print">
                            <button class="btn-exec btn-add-line" onclick="addRow()">
                                <span>+</span> Agregar L√≠nea
                            </button>
                            <button class="btn-exec btn-clear" onclick="clearAll()">
                                <span>√ó</span> Limpiar
                            </button>
                            <button class="btn-exec btn-print" onclick="window.print()">
                                <span>üñ®Ô∏è</span> Imprimir
                            </button>
                        </div>
                    </div>
                    
                    <table id="productTable">
                        <thead>
                            <tr>
                                <th>No.</th>
                                <th>SKU / Descripci√≥n</th>
                                <th style="width: 90px;">Cant.</th>
                                <th style="width: 110px;">Precio Unit.</th>
                                <th style="width: 90px;">Peso kg</th>
                                <th style="width: 110px;">Subtotal</th>
                                <th style="width: 50px;" class="no-print"></th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- Filas din√°micas -->
                        </tbody>
                    </table>
                </div>
                
                <!-- Totales Principales -->
                <div class="grand-totals">
                    <div class="total-item">
                        <div class="total-label">Subtotal</div>
                        <div class="total-value" id="subtotalDisplay">$0.00</div>
                    </div>
                    <div class="total-item">
                        <div class="total-label">Descuento Lote</div>
                        <div class="total-value" id="discountDisplay" style="color: #f87171;">-$0.00</div>
                    </div>
                    <div class="total-item">
                        <div class="total-label">Comisi√≥n</div>
                        <div class="total-value" id="commissionDisplay">$0.00</div>
                    </div>
                    <div class="total-item">
                        <div class="total-label">Total FOB</div>
                        <div class="total-value" id="fobDisplay">$0.00</div>
                    </div>
                    <div class="total-item total-grand">
                        <div class="total-label">Total a Pagar</div>
                        <div class="total-value" id="grandTotalDisplay">$0.00</div>
                    </div>
                </div>
            </div>
            
            <!-- Secci√≥n Financiera -->
            <div id="financiero" class="content-section">
                <div class="financial-summary">
                    <div class="summary-card">
                        <div class="summary-title">
                            <span>üí∞</span> An√°lisis de Costos
                        </div>
                        <div class="summary-amount amount-primary" id="analysisCost">$0.00</div>
                        <div class="summary-detail">
                            Costo total de mercanc√≠a<br>
                            FOB Miami + Inland freight<br>
                            Sin comisiones ni impuestos
                        </div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-title">
                            <span>üìà</span> Margen de Ganancia
                        </div>
                        <div class="summary-amount amount-success" id="analysisMargin">0%</div>
                        <div class="summary-detail">
                            Basado en comisi√≥n del <span id="marginRate">10</span>%<br>
                            Rentabilidad estimada<br>
                            ROI proyectado
                        </div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-title">
                            <span>üéØ</span> Ahorro por Volumen
                        </div>
                        <div class="summary-amount amount-accent" id="analysisSavings">$0.00</div>
                        <div class="summary-detail">
                            Descuento aplicado por lote<br>
                            Compra mayorista<br>
                            Optimizaci√≥n de flete
                        </div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-title">
                            <span>‚ö°</span> Valor Total Negocio
                        </div>
                        <div class="summary-amount amount-primary" id="analysisTotal">$0.00</div>
                        <div class="summary-detail">
                            Incluye todos los conceptos<br>
                            Listo para transferencia<br>
                            Validez: 30 d√≠as
                        </div>
                    </div>
                </div>
                
                <!-- T√©rminos Legales -->
                <div class="legal-terms">
                    <div class="legal-title">
                        <span>‚ö†Ô∏è</span> Condiciones Legales y Comerciales
                    </div>
                    <div class="legal-text">
                        <strong>Validez:</strong> 30 d√≠as calendario desde emisi√≥n. Precios sujetos a fluctuaci√≥n cambiaria.<br>
                        <strong>Pago:</strong> 30% anticipo para confirmar orden, 70% contra documentos de embarque.<br>
                        <strong>Comisi√≥n:</strong> Aplica sobre el total FOB final. Pagadera a la firma del contrato.<br>
                        <strong>Lotes:</strong> Descuento por volumen aplica autom√°ticamente en compras > $10,000 USD.<br>
                        <strong>Entrega:</strong> 30-45 d√≠as h√°biles desde confirmaci√≥n de pago y documentaci√≥n.<br>
                        <strong>Garant√≠a:</strong> Defectos de f√°brica cubiertos. No aplica por mal manejo en transporte.
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="exec-footer">
            <div class="footer-col">
                <h4>Exportador</h4>
                <p><strong>Industrias Tobias S.A.</strong><br>
                350 Fifth Avenue, Suite 2500<br>
                New York, NY 10118, USA<br>
                Registro: 98-7654321</p>
            </div>
            <div class="footer-col">
                <h4>Contacto</h4>
                <p>üìß industriastobias@gmail.com<br>
                üìû +1 (212) 555-0147<br>
                üåê www.industriastobias.com<br>
                üí¨ WhatsApp Business</p>
            </div>
            <div class="footer-col">
                <h4>Banco USA</h4>
                <p><strong>JPMorgan Chase Bank</strong><br>
                A/C: 000123456789<br>
                SWIFT: CHASUS33<br>
                ABA: 021000021</p>
            </div>
            <div class="footer-col">
                <h4>Representante</h4>
                <p><strong>Lic. Carlos Mendoza</strong><br>
                Gerente Comercial<br>
                cmendoza@industriastobias.com<br>
                Autorizaci√≥n: AT-2024-001</p>
            </div>
        </div>
    </div>

    <script>
        let selectedCategory = '';
        let rowCount = 0;
        let products = [];
        
        // Inicializaci√≥n
        window.onload = function() {
            // Fecha
            const date = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('currentDate').textContent = date.toLocaleDateString('es-ES', options);
            
            // N√∫mero de factura
            const invNum = Math.floor(Math.random() * 900) + 100;
            document.getElementById('invoiceNum').textContent = `PI-2024-${invNum}`;
            
            // Primera fila
            addRow();
            updateCalculations();
        };
        
        function showSection(sectionId) {
            // Ocultar todas
            document.querySelectorAll('.content-section').forEach(sec => {
                sec.classList.remove('active');
            });
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Mostrar seleccionada
            document.getElementById(sectionId).classList.add('active');
            event.target.classList.add('active');
        }
        
        function selectCategory(element, category) {
            document.querySelectorAll('.category-card').forEach(card => {
                card.classList.remove('active');
            });
            element.classList.add('active');
            selectedCategory = category;
            
            document.getElementById('selectedCatName').textContent = category;
            document.getElementById('selectedCategoryDisplay').classList.add('show');
            
            // Actualizar estado
            document.getElementById('statusBadge').textContent = 'En Proceso';
            document.getElementById('statusBadge').className = 'status-badge status-approved';
        }
        
        function addRow() {
            rowCount++;
            const tbody = document.getElementById('tableBody');
            const row = document.createElement('tr');
            row.id = `row-${rowCount}`;
            
            row.innerHTML = `
                <td style="text-align: center; color: var(--text-secondary); font-family: 'JetBrains Mono', monospace;">${rowCount}</td>
                <td><input type="text" class="cell-input" placeholder="SKU-001 / Descripci√≥n del producto" id="desc-${rowCount}"></td>
                <td><input type="number" class="cell-input number" placeholder="0" min="0" id="qty-${rowCount}" onchange="calculateRow(${rowCount})"></td>
                <td><input type="number" class="cell-input number" placeholder="0.00" min="0" step="0.01" id="price-${rowCount}" onchange="calculateRow(${rowCount})"></td>
                <td><input type="number" class="cell-input number" placeholder="0.00" min="0" step="0.01" id="weight-${rowCount}"></td>
                <td class="cell-total" id="subtotal-${rowCount}">$0.00</td>
                <td class="no-print" style="text-align: center;"><button class="delete-btn" onclick="deleteRow(${rowCount})">√ó</button></td>
            `;
            
            tbody.appendChild(row);
            
            setTimeout(() => {
                document.getElementById(`desc-${rowCount}`).focus();
            }, 100);
        }
        
        function deleteRow(id) {
            const row = document.getElementById(`row-${id}`);
            row.style.opacity = '0';
            setTimeout(() => {
                row.remove();
                recalculateNumbers();
                updateCalculations();
            }, 300);
        }
        
        function recalculateNumbers() {
            const rows = document.querySelectorAll('#tableBody tr');
            rows.forEach((row, index) => {
                row.cells[0].textContent = index + 1;
            });
            rowCount = rows.length;
        }
        
        function calculateRow(id) {
            const qty = parseFloat(document.getElementById(`qty-${id}`).value) || 0;
            const price = parseFloat(document.getElementById(`price-${id}`).value) || 0;
            const subtotal = qty * price;
            
            document.getElementById(`subtotal-${id}`).textContent = '$' + subtotal.toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
            
            updateCalculations();
        }
        
        function updateCalculations() {
            let subtotal = 0;
            let totalQty = 0;
            
            // Calcular subtotal de productos
            for (let i = 1; i <= rowCount; i++) {
                const qty = parseFloat(document.getElementById(`qty-${i}`)?.value) || 0;
                const price = parseFloat(document.getElementById(`price-${i}`)?.value) || 0;
                subtotal += (qty * price);
                totalQty += qty;
            }
            
            // Obtener configuraciones
            const commissionRate = parseFloat(document.getElementById('commissionRate').value) || 0;
            const lotDiscount = parseFloat(document.getElementById('lotDiscount').value) || 0;
            const minLotQty = parseFloat(document.getElementById('minLotQty').value) || 0;
            
            // Calcular descuento por lote (si aplica)
            let discount = 0;
            if (subtotal > 10000 || totalQty >= minLotQty) {
                discount = subtotal * (lotDiscount / 100);
            }
            
            // Calcular comisi√≥n
            const commission = subtotal * (commissionRate / 100);
            
            // Total FOB (subtotal - descuento + comisi√≥n)
            const fobTotal = subtotal - discount + commission;
            
            // Actualizar displays
            document.getElementById('subtotalDisplay').textContent = '$' + subtotal.toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
            
            document.getElementById('discountDisplay').textContent = '-$' + discount.toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
            
            document.getElementById('commissionDisplay').textContent = '$' + commission.toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
            
            document.getElementById('fobDisplay').textContent = '$' + fobTotal.toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
            
            document.getElementById('grandTotalDisplay').textContent = '$' + fobTotal.toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
            
            // Actualizar an√°lisis financiero
            document.getElementById('analysisCost').textContent = '$' + subtotal.toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
            
            document.getElementById('analysisMargin').textContent = commissionRate + '%';
            document.getElementById('marginRate').textContent = commissionRate;
            
            document.getElementById('analysisSavings').textContent = '$' + discount.toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
            
            document.getElementById('analysisTotal').textContent = '$' + fobTotal.toLocaleString('en-US', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
        }
        
        function clearAll() {
            if(confirm('¬øEliminar todas las l√≠neas de productos?')) {
                document.getElementById('tableBody').innerHTML = '';
                rowCount = 0;
                addRow();
                updateCalculations();
            }
        }
        
        // Navegaci√≥n con Enter
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && e.target.classList.contains('cell-input')) {
                e.preventDefault();
                const inputs = Array.from(document.querySelectorAll('.cell-input'));
                const currentIndex = inputs.indexOf(e.target);
                if (currentIndex < inputs.length - 1) {
                    inputs[currentIndex + 1].focus();
                } else {
                    addRow();
                }
            }
        });
    </script>
</body>
</html>
